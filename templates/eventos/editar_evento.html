{% extends 'partials/base.html' %}
{% block content %}
<div class="max-w-4xl mx-auto mt-10 px-4">
  <!-- Encabezado -->
  <div class="mb-8 text-center">
    <h2 class="text-3xl font-extrabold text-indigo-700">九勇 Editar evento</h2>
    <p class="text-gray-500 mt-2">Modifica los detalles de tu evento: {{ evento.titulo }}</p>
  </div>

  <!-- Formulario -->
  <form method="post" enctype="multipart/form-data" 
        class="bg-white shadow-xl rounded-xl p-8 space-y-8 border border-gray-200">
    {% csrf_token %}

    <!-- Grupo: Informaci칩n b치sica -->
    <div class="space-y-6">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">T칤tulo</label>
        <input type="text" name="titulo" value="{{ evento.titulo }}"
               class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                      focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2"/>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Descripci칩n</label>
        <textarea name="descripcion" rows="4"
                  class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                         focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2">{{ evento.descripcion }}</textarea>
      </div>
    </div>

    <!-- Grupo: Detalles -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Fecha</label>
        <input type="datetime-local" name="fecha" value="{{ evento.fecha|date:'Y-m-d\\TH:i' }}"
               class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                      focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2"/>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Lugar</label>
        <input type="text" name="lugar" value="{{ evento.lugar }}"
               class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                      focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2"/>
      </div>
    </div>

    <!-- Grupo: Imagen -->
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-2">Imagen</label>
      <input type="file" name="imagen"
             class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                    focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2"/>
      {% if evento.imagen %}
        <p class="text-xs text-gray-500 mt-2">Imagen actual: 
          <a href="{{ evento.imagen.url }}" target="_blank" class="text-indigo-600 hover:underline">Ver imagen</a>
        </p>
      {% endif %}
    </div>

    <!-- Grupo: Aforo y precio -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Cupo m치ximo</label>
        <input type="number" name="cupo_maximo" value="{{ evento.cupo_maximo }}"
               class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                      focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2"/>
      </div>

      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Precio</label>
            <input type="number" step="0.01" name="precio" 
                value="{{ evento.precio|floatformat:2 }}"
                class="w-full rounded-lg border border-gray-300 bg-white text-gray-900 shadow-sm 
                        focus:border-indigo-500 focus:ring focus:ring-indigo-200 px-4 py-2"/>

      </div>
    </div>

    <!-- Botones -->
    <div class="flex justify-between items-center mt-8">
      <a href="{% url 'panel_organizador' %}" 
         class="inline-flex items-center px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg 
                hover:bg-gray-200 transition font-medium">
        拘勇 Cancelar
      </a>
      <button type="submit" 
              class="inline-flex items-center px-5 py-2.5 bg-indigo-600 text-white rounded-lg shadow 
                     hover:bg-indigo-700 transition font-medium">
        游 Guardar cambios
      </button>
    </div>
  </form>
</div>
{% endblock %}
